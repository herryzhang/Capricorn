## 并发模式

- 控制程序的生命周期
- 管理可复用的资源池
- 创建可以处理任务的goroutine池

### runner
- runner包用于展示如何使用通道来监视程序的执行时间，如果程序运行时间太长，也可以用runner包来终止程序。
- 当开发需要调度后台处理任务的程序的时候，这种模式会很有用。
- 这个程序可能会作为 cron 作业执行，或者在基于定时任务的云环境(如 iron.io)里执行。

[runner](./runner/runner.go)

### pool
- pool包用于展示如何使用有缓冲的通道实现资源池，来管理可以在任意数量的goroutine之间共享及独立使用的资源。
- 这种模式在需要共享一组静态资源的情况(如共享数据库连接或者内存缓冲区)下非常有用。
- 如果goroutine需要从池里得到这些资源中的一个，它可以从池里申请，使用完后归还到资源池里。

[pool](./pool/pool.go)


### worker
- work包的目的是展示如何使用无缓冲的通道来创建一个 goroutine 池，这些goroutine执行并控制一组工作，让其并发执行。
- 无缓冲的通道保证两个 goroutine 之间的数据交换。
- 使用无缓冲的通道不会有工作在队列里丢失或者卡住，所有工作都会被处理。

[worker](./worker/worker.go)


### 小结
- 可以使用通道来控制程序的生命周期。
- 带 default 分支的 select 语句可以用来尝试向通道发送或者接收数据，而不会阻塞。
- 有缓冲的通道可以用来管理一组可复用的资源。
- 语言运行时会处理好通道的协作和同步。
- 使用无缓冲的通道来创建完成工作的 goroutine 池。
- 任何时间都可以用无缓冲的通道来让两个 goroutine 交换数据，在通道操作完成时一定保证对方接收到了数据。

